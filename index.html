<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Beam Shear and Bending Moment Diagram Tool</title>
  <!-- Load Plotly from CDN for interactive charts -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <h1>Interactive Beam Shear and Bending Moment Diagram Tool</h1>

  <!-- Beam configuration inputs -->
  <section>
    <h2>Beam Settings</h2>
    <label>Beam Length (m):
      <input type="number" id="beamLength" value="6" min="0.1" step="0.1">
    </label>
    <label>Left Support:
      <select id="leftSupport">
        <option value="pinned">Pinned</option>
        <option value="roller">Roller</option>
        <option value="fixed">Fixed</option>
        <option value="free">Free</option>
      </select>
    </label>
    <label>Right Support:
      <select id="rightSupport">
        <option value="pinned">Pinned</option>
        <option value="roller">Roller</option>
        <option value="fixed">Fixed</option>
        <option value="free">Free</option>
      </select>
    </label>
  </section>

  <!-- Section and material properties -->
  <section>
    <h2>Section & Material Properties</h2>
    <label>Elastic Modulus E (kN/m²):
      <input type="number" id="elasticModulus" value="1" min="0" step="0.1">
    </label>
    <label>Moment of Inertia I (m⁴):
      <input type="number" id="momentInertia" value="1" min="0" step="0.1">
    </label>
    <label>Section Depth h (m):
      <input type="number" id="sectionDepth" value="1" min="0" step="0.1">
    </label>
  </section>


  <!-- Additional supports input -->
  <section>
    <h2>Additional Supports</h2>
    <table id="supportTable">
      <thead>
        <tr>
          <th>Position (m)</th>
          <th>Type</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
    <button onclick="addSupportRow()">Add Support</button>
  </section>

  <!-- Point loads input -->
  <section>
    <h2>Point Loads (Vertical)</h2>
    <table id="pointLoadTable">
      <thead>
        <tr>
          <th>Magnitude (kN)</th>
          <th>Position (m)</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
    <button onclick="addPointLoadRow()">Add Point Load</button>
  </section>

  <!-- Distributed loads input -->
  <section>
    <h2>Distributed Loads (Constant)</h2>
    <table id="udlTable">
      <thead>
        <tr>
          <th>Start (m)</th>
          <th>End (m)</th>
          <th>q (kN/m)</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
    <button onclick="addUdlRow()">Add Distributed Load</button>
  </section>

  <!-- Point moments input -->
  <section>
    <h2>Point Moments</h2>
    <table id="momentTable">
      <thead>
        <tr>
          <th>Moment (kN·m)</th>
          <th>Position (m)</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
    <button onclick="addMomentRow()">Add Moment</button>
  </section>

  <!-- Buttons to run analysis and animate results -->
  <button onclick="computeBeam()">Compute Diagrams</button>
  <button onclick="animateDiagrams()">Animate Graphs</button>

  <!-- Reaction results -->
  <section>
    <h2>Reactions</h2>
    <div id="reactionResults"></div>
  </section>

  <!-- Plot for beam and load distribution -->
  <div id="beamPlot" style="width:100%; height:300px;"></div>

  <!-- Plots for SFD and BMD -->
  <div id="sfdPlot" style="width:100%;height:400px;"></div>
  <div id="bmdPlot" style="width:100%;height:400px;"></div>

  <!-- Plot for deflection and stress diagrams -->
  <div id="deflectionPlot" style="width:100%;height:400px;"></div>
  <div id="stressPlot" style="width:100%;height:400px;"></div>

  <!-- Script containing logic for dynamic rows and computation -->
  <script src="script.js"></script>
</body>
</html>